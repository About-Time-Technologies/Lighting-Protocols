
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

    <title>Arttodrequest format specification</title>
  </head>
  <body>
           <div class="container">
  <h1>Arttodrequest format specification</h1>

      
<a name='type-arttodrequest'></a>
<h1>Type: Arttodrequest</h1>

<p>This packet is used to request the Table of RDM Devices (TOD). A Node receiving this packet
must not interpret it as forcing full discovery. Full discovery is only initiated at power on, or when an ArtTodControl.AtcFlush is received. The response is ArtTodData.

Controller:
  Receive: No Action
  Unicase Transmit: Not Allowed
  Broadcast: Controller Directed Broadcast to all nodes

Node Output Gateway:
  Receive: Reply with ArtTodData
  Unicast Transmit: Not Allowed
  Broadcast: Not Allowed

Node Input Gateway:
  Receive: No action
  Unicast Transmit: Not Allowed
  Broadcast: Input Gateway Directed Broadcasts to all nodes

Media Server:
  Receive: No Action
  Unicast Transmit: Not Allowed
  Broadcast: Not Allowed
</p>
<table class="table">
<tr><th>Offset</th><th>Size</th><th>ID</th><th>Type</th><th>Note</th></tr>
<tr>
<td>0</td>
<td>...</td>
<td>id</td>
<td></td>
<td>Array of 8 characters, the final character is a null termination.
Value =  'A' 'r' 't' '-' 'N' 'e' 't' 0x00
</td>
</tr>
<tr>
<td>8</td>
<td>...</td>
<td>opcode</td>
<td></td>
<td>OpTodRequest (transmitted little endian)</td>
</tr>
<tr>
<td>10</td>
<td>...</td>
<td>proto_version</td>
<td></td>
<td>Protocol version (constant 14, transmitted big endian)</td>
</tr>
<tr>
<td>12</td>
<td>...</td>
<td>unnamed_3</td>
<td></td>
<td>Filler (pad length to match ArtPoll)</td>
</tr>
<tr>
<td>14</td>
<td>...</td>
<td>unnamed_4</td>
<td></td>
<td>Spare, transmit as 0, receivers don't test</td>
</tr>
<tr>
<td>21</td>
<td>...</td>
<td>net</td>
<td>u1</td>
<td>The top 7 bits of the 15 bit Port-Address of Nodes that must respond</td>
</tr>
<tr>
<td>22</td>
<td>...</td>
<td>command</td>
<td></td>
<td>0x00 is TodFull, send the entire TOD</td>
</tr>
<tr>
<td>23</td>
<td>...</td>
<td>len_address</td>
<td>u1</td>
<td>The number of entries in Address that are used</td>
</tr>
<tr>
<td>24</td>
<td>...</td>
<td>address</td>
<td></td>
<td>Array of low bytes for the Port-Address of Nodes that must respond. Combined with Net to give full Port-Address

**Sizing Notes**: According to spec this should always be 32 bytes. However, to ensure non-compliant devices are likely to parse, this will only read up to the amount of addresses specified in the earlier field
</td>
</tr>
</table>

  </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  </body>
</html>
      
